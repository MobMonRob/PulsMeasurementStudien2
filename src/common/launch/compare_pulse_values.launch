<?xml version="1.0"?>
<launch>
    <arg name="topic" default="/pulsgurt" />
    <arg name="topicToCompare" default="/pulse_head_movement/pulse" />
    <arg name="video_file" default="" />
    <arg name="bdf_file" default="" />
    <node pkg="common" type="compare_pulse_values.py" name="compare" output="screen">
        <param name="topic" type="string" value="$(arg topic)" />
        <param name="topicToCompare" type="string" value="$(arg topicToCompare)" />
    </node>
    <node name="pulse_plot" pkg="plotjuggler" type="PlotJuggler" args="--layout $(find common)/config/compare_config.xml"/>
    <group if="$(eval arg('topicToCompare') == '/pulse_head_movement/pulse')">
        <group if="$(eval arg('topic') == '/pulsgurt')">
            <include file="$(find pulse_head_movement)/launch/webcam.launch">
                <arg name="show_plot" value="false" />
            </include>
            <node name="pulsgurt_node" pkg="pulse_chest_strap" type="pulse_polarH7.py" args="-m 00:22:D0:84:1E:64" output="screen"/>
        </group>
        <group if="$(eval arg('topic') == '/ecg/pulse')">
            <include file="$(find pulse_head_movement)/launch/pulse_head_movement.launch">
                <arg name="show_plot" value="false" />
                <arg name="video_file" type="string" value="$(arg video_file)" />
                <arg name="bdf_file" type="string" value="$(arg bdf_file)" />
            </include>
        </group>
    </group>
</launch>